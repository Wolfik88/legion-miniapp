<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>–õ–µ–≥–∏–æ–Ω ‚Äî –ø–∞—Ä–∫ –∫—É—Ä—å–µ—Ä–æ–≤</title>
  <!-- React —á–µ—Ä–µ–∑ CDN, —á—Ç–æ–±—ã –Ω–µ —Å–æ–±–∏—Ä–∞—Ç—å -->
<script crossorigin src="https://cdn.jsdelivr.net/npm/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.production.min.js"></script>
<script crossorigin src="https://cdn.jsdelivr.net/npm/react-router-dom@6/umd/react-router-dom.production.min.js"></script>
  <!-- Telegram WebApp API -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    :root{
      --bg:#0f0f0f;           /* –≥–ª—É–±–æ–∫–∏–π —á—ë—Ä–Ω—ã–π */
      --panel:#151515;        /* –ø–∞–Ω–µ–ª—å/–∫–∞—Ä—Ç–æ—á–∫–∏ */
      --text:#e9e9e9;         /* –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç */
      --muted:#bcbcbc;        /* –≤—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç */
      --accent:#d74848;       /* –∫—Ä–∞—Å–Ω—ã–π –∞–∫—Ü–µ–Ω—Ç */
      --accent-2:#ff3b3b;     /* –Ω–µ–æ–Ω –¥–ª—è hover/–¥–µ—Ç–∞–ª–µ–π */
      --ok:#2ecc71; --warn:#f1c40f; --bad:#e74c3c;
      --radius:16px; --shadow:0 10px 30px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body,#root{height:100%}
    body{
      margin:0; background:radial-gradient(1200px 900px at 100% -10%, rgba(215,72,72,.12), transparent 35%),
                radial-gradient(1200px 900px at -10% 110%, rgba(255,59,59,.08), transparent 35%),
                var(--bg);
      color:var(--text); font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;
    }
    .wrap{max-width:960px;margin:0 auto;padding:18px 18px 40px}
    header{display:flex;align-items:center;gap:12px;margin:8px 0 20px}
    .logo{
      width:36px;height:36px;border-radius:10px;
      background:linear-gradient(135deg, var(--accent), var(--accent-2));
      box-shadow:0 0 18px rgba(215,72,72,.35), inset 0 0 14px rgba(0,0,0,.3);
    }
    .brand{font-weight:700;letter-spacing:.4px}
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,.02), transparent),
                 var(--panel);
      box-shadow:var(--shadow); border:1px solid rgba(255,255,255,.06);
      border-radius:var(--radius); padding:18px;
    }
    h1{margin:0 0 6px;font-size:22px;letter-spacing:.3px}
    h2{margin:0 0 10px;font-size:18px;color:#fff}
    p{margin:8px 0;color:var(--muted)}
    .grid{display:grid;gap:12px}
    .grid.cols-2{grid-template-columns:1fr 1fr}
    .grid.cols-3{grid-template-columns:1fr 1fr 1fr}
    @media (max-width:720px){.grid.cols-2,.grid.cols-3{grid-template-columns:1fr}}

    .btn{
      appearance:none; border:1px solid rgba(255,255,255,.08);
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.12));
      color:#fff; padding:12px 14px; border-radius:12px; cursor:pointer;
      transition:.2s; font-weight:600; letter-spacing:.2px; text-align:center;
    }
    .btn:hover{transform:translateY(-1px); border-color:rgba(255,255,255,.16)}
    .btn.primary{
      background:linear-gradient(135deg, var(--accent), var(--accent-2));
      border:none; box-shadow:0 8px 22px rgba(215,72,72,.35);
    }
    .btn.ghost{background:transparent}
    .btn.full{width:100%}

    .pill{display:inline-flex;gap:6px;align-items:center;
      background:rgba(255,255,255,.06); padding:6px 10px;border-radius:999px;
      font-size:13px;color:#fff;border:1px solid rgba(255,255,255,.08)
    }

    .field{display:grid;gap:6px}
    .input, select{
      width:100%; padding:12px 14px; color:#fff;
      background:#131313; border:1px solid rgba(255,255,255,.12);
      border-radius:12px; outline:none; transition:.2s;
    }
    .input:focus, select:focus{border-color:var(--accent)}
    .hint{font-size:13px;color:var(--muted)}
    .footer{margin-top:12px;font-size:13px;color:var(--muted);text-align:center}
    .divider{height:1px;background:linear-gradient(90deg, transparent, rgba(255,255,255,.08), transparent);margin:12px 0}
    .emoji{filter:drop-shadow(0 2px 6px rgba(255,255,255,.2))}
    .nav{display:flex;gap:10px;flex-wrap:wrap}
  </style>
</head>
<body>
  <div id="root"></div>

<script>
  // –ü–æ–∫–∞–∂–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –µ—Å–ª–∏ React –≤–Ω–µ–∑–∞–ø–Ω–æ –Ω–µ –ø–æ–¥—Ö–≤–∞—Ç–∏–ª—Å—è
  setTimeout(function(){
    if (!window.React || !window.ReactDOM || !window.ReactRouterDOM) {
      var warn = document.createElement('div');
      warn.style.cssText='position:fixed;left:12px;bottom:12px;background:#261313;color:#fff;padding:10px 12px;border-radius:8px;border:1px solid #a33;';
      warn.textContent='–ù–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (CDN). –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç/CDN.';
      document.body.appendChild(warn);
      console.error('CDN not loaded:', {React: !!window.React, ReactDOM: !!window.ReactDOM, RRD: !!window.ReactRouterDOM});
    }
  }, 800);
</script>

  <script type="text/javascript">
  const { useEffect, useMemo, useState } = React;
  const { HashRouter, Routes, Route, useNavigate } = ReactRouterDOM;

  // --- Telegram WebApp glue ---
  const tg = window.Telegram?.WebApp;
  if (tg) {
    tg.ready(); tg.expand();
    tg.setHeaderColor("#0f0f0f"); tg.setBackgroundColor("#0f0f0f");
  }

  // UI atoms
  const Card = (p)=>React.createElement("div", {className:"card "+(p.className||"")}, p.children);
  const Btn  = ({children, onClick, variant, full, href}) =>
    React.createElement(href?"a":"button", {
      className:"btn "+(variant||"")+" "+(full?"full":""), onClick, href
    }, children);

  const Header = ()=>(
    React.createElement("header", null,
      React.createElement("div",{className:"logo"}),
      React.createElement("div", null,
        React.createElement("div",{className:"brand"},"–õ–ï–ì–ò–û–ù"),
        React.createElement("div",{className:"hint"},"–ü–∞—Ä–∫ –∫—É—Ä—å–µ—Ä–æ–≤")
      ),
      )
  );

  // Routing pages
  const Welcome = ()=>{
    const nav = useNavigate();
    return (
      React.createElement("div",{className:"grid", style:{gap:16}},
        React.createElement(Card,null,
          React.createElement("h1",null,"–†–∞–±–æ—Ç–∞–π —Å —Ç–µ–º–∏, –∫—Ç–æ —Ü–µ–Ω–∏—Ç —Ç–≤–æ—ë –≤—Ä–µ–º—è"),
          React.createElement("p",null,"–ü–∞—Ä–∫ –õ–ï–ì–ò–û–ù ‚Äî –Ω–∞–¥—ë–∂–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —É–¥–æ–±–Ω—ã–µ —Å–º–µ–Ω—ã."),
          React.createElement("div",{className:"grid cols-2"},
            React.createElement(Btn,{variant:"primary", onClick:()=>nav("/login")},"üîë –í–æ–π—Ç–∏"),
            React.createElement(Btn,{onClick:()=>nav("/register")},"üìù –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"),
          ),
          React.createElement("div",{style:{height:8}}),
          React.createElement(Btn,{variant:"ghost", full:true, onClick:()=>nav("/about")},"‚ÑπÔ∏è –ü–æ–¥—Ä–æ–±–Ω–µ–µ")
        ),
        React.createElement(Card,null,
          React.createElement("div",{className:"pill"}, "‚ö° –ë—ã—Å—Ç—Ä—ã–µ –≤—ã–ø–ª–∞—Ç—ã"),
          React.createElement("div",{className:"pill", style:{marginLeft:8}}, "üõ° –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 8:00‚Äì00:00"),
        )
      )
    )
  };

  const About = ()=>{
    const nav = useNavigate();
    return (
      React.createElement("div",{className:"grid", style:{gap:16}},
        React.createElement(Card,null,
          React.createElement("h1",null,"–û –ø–∞—Ä–∫–µ"),
          React.createElement("p",null,"–ú—ã –ø–æ–¥–∫–ª—é—á–∞–µ–º –∫—É—Ä—å–µ—Ä–æ–≤ –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏. –†–∞–±–æ—Ç–∞ —Å –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –¥–æ—Å—Ç–∞–≤–∫–∏, –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞."),
          React.createElement("div",{className:"divider"}),
          React.createElement("h2",null,"–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞"),
          React.createElement("div",{className:"grid cols-3"},
            React.createElement("div",null, React.createElement("div",{className:"emoji"},"üí≥"), React.createElement("p",null,"–í—ã–ø–ª–∞—Ç—ã –≤–æ–≤—Ä–µ–º—è")),
            React.createElement("div",null, React.createElement("div",{className:"emoji"},"üß≠"), React.createElement("p",null,"–£–¥–æ–±–Ω—ã–µ —Å–º–µ–Ω—ã")),
            React.createElement("div",null, React.createElement("div",{className:"emoji"},"üõü"), React.createElement("p",null,"–ñ–∏–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞")),
          ),
          React.createElement("div",{style:{height:8}}),
          React.createElement(Btn,{variant:"primary", onClick:()=>nav("/register")},"–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è")
        )
      )
    )
  };

  const Login = ()=>{
    const nav = useNavigate();
    // –í –º–∏–Ω–∏-–∞–ø–ø–µ –ª–æ–≥–∏–Ω–∏—Ç—Å—è —Å–∞–º —Ç–µ–ª–µ–≥—Ä–∞–º-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (initDataUnsafe.user)
    const user = tg?.initDataUnsafe?.user;
    return (
      React.createElement("div",{className:"grid", style:{gap:16}},
        React.createElement(Card,null,
          React.createElement("h1",null,"–í—Ö–æ–¥"),
          user
            ? React.createElement("p",null, "–í—ã –≤–æ—à–ª–∏ –∫–∞–∫ ", React.createElement("b",null, (user.username?("@"+user.username):`${user.first_name||""} ${user.last_name||""}`)))
            : React.createElement("p",null, "–û—Ç–∫—Ä–æ–π—Ç–µ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–∑ —á–∞—Ç–∞ —Å –±–æ—Ç–æ–º."),
          React.createElement("div",{className:"grid cols-2"},
            React.createElement(Btn,{variant:"primary", onClick:()=>nav("/profile")},"–ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ—Ñ–∏–ª—å"),
            React.createElement(Btn,{onClick:()=>nav("/")},"–ù–∞ –≥–ª–∞–≤–Ω—É—é")
          )
        )
      )
    )
  };

  const Profile = ()=>{
    const nav = useNavigate();
    // –¢—É—Ç –æ–±—ã—á–Ω–æ –≥—Ä—É–∑–∏–º –ø—Ä–æ—Ñ–∏–ª—å —Å –±—ç–∫–∞. –î–ª—è –¥–µ–º–æ ‚Äî –¥–∞–Ω–Ω—ã–µ –∏–∑ user:
    const user = tg?.initDataUnsafe?.user;
    return (
      React.createElement("div",{className:"grid", style:{gap:16}},
        React.createElement(Card,null,
          React.createElement("h1",null,"–ü—Ä–æ—Ñ–∏–ª—å"),
          React.createElement("p",null,"–§–ò–û: ", React.createElement("b",null, (user? `${user.first_name||""} ${user.last_name||""}` : "‚Äî"))),
          React.createElement("p",null,"–°—Ç–∞—Ç—É—Å: ", React.createElement("b",null,"–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ")),
          React.createElement("div",{className:"grid cols-2"},
            React.createElement(Btn,{onClick:()=>nav("/stats")},"üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"),
            React.createElement(Btn,{onClick:()=>nav("/support")},"üõü –ü–æ–¥–¥–µ—Ä–∂–∫–∞")
          ),
          React.createElement("div",{style:{height:8}}),
          React.createElement(Btn,{variant:"ghost", onClick:()=>nav("/")},"‚¨ÖÔ∏è –ù–∞ –≥–ª–∞–≤–Ω—É—é")
        )
      )
    )
  };

  const Support = ()=>{
    const nav = useNavigate();
    return (
      React.createElement("div",{className:"grid", style:{gap:16}},
        React.createElement(Card,null,
          React.createElement("h1",null,"–ü–æ–¥–¥–µ—Ä–∂–∫–∞"),
          React.createElement("p",null,"–†–∞–∑–¥–µ–ª —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω."),
          React.createElement(Btn,{onClick:()=>nav(-1)},"‚¨ÖÔ∏è –ù–∞–∑–∞–¥")
        )
      )
    )
  };

  const Stats = ()=>{
    const nav = useNavigate();
    return (
      React.createElement("div",{className:"grid", style:{gap:16}},
        React.createElement(Card,null,
          React.createElement("h1",null,"–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"),
          React.createElement("p",null,"–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º —Å –±–æ—Ç–æ–º."),
          React.createElement(Btn,{onClick:()=>nav(-1)},"‚¨ÖÔ∏è –ù–∞–∑–∞–¥")
        )
      )
    )
  };

  const Register = ()=>{
    const nav = useNavigate();
    const [form,setForm]=React.useState({name:"",city:"",phone:"",transport:"–ü–µ—à–∏–π",agg:"TopGO"});
    const change = (k)=>(e)=>setForm({...form,[k]:e.target.value});
    const submit = ()=>{
      const payload = {
        action: "registration",
        data: form,
      };
      if (tg && tg.sendData){
        tg.sendData(JSON.stringify(payload)); // —É–ª–µ—Ç–∏—Ç –≤ –±–æ—Ç–∞ ‚Üí –æ–Ω –ø–µ—Ä–µ—à–ª—ë—Ç –∞–¥–º–∏–Ω—É
        tg.HapticFeedback?.notificationOccurred("success");
      }
      alert("–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è!");
      nav("/"); // –∏–ª–∏ –≤ –ø—Ä–æ—Ñ–∏–ª—å
    };
    return (
      React.createElement("div",{className:"grid", style:{gap:16}},
        React.createElement(Card,null,
          React.createElement("h1",null,"–ó–∞—è–≤–∫–∞ –Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ"),
          React.createElement("div",{className:"grid", style:{gap:12}},
            React.createElement("div",{className:"field"},
              React.createElement("label",null,"–§–ò–û"),
              React.createElement("input",{className:"input", placeholder:"–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω", value:form.name, onChange:change("name")})
            ),
            React.createElement("div",{className:"field"},
              React.createElement("label",null,"–ì–æ—Ä–æ–¥"),
              React.createElement("input",{className:"input", placeholder:"–ú–æ—Å–∫–≤–∞", value:form.city, onChange:change("city")})
            ),
            React.createElement("div",{className:"field"},
              React.createElement("label",null,"–¢–µ–ª–µ—Ñ–æ–Ω"),
              React.createElement("input",{className:"input", inputMode:"tel", placeholder:"+7 9__", value:form.phone, onChange:change("phone")})
            ),
            React.createElement("div",{className:"grid cols-2"},
              React.createElement("div",{className:"field"},
                React.createElement("label",null,"–¢–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞"),
                React.createElement("select",{value:form.transport,onChange:change("transport")},
                  React.createElement("option",{value:"–ü–µ—à–∏–π"},"–ü–µ—à–∏–π"),
                  React.createElement("option",{value:"–í–µ–ª–æ"},"–í–µ–ª–æ"),
                  React.createElement("option",{value:"–≠–ª–µ–∫—Ç—Ä–æ"},"–≠–ª–µ–∫—Ç—Ä–æ"),
                  React.createElement("option",{value:"–ê–≤—Ç–æ"},"–ê–≤—Ç–æ"),
                )
              ),
              React.createElement("div",{className:"field"},
                React.createElement("label",null,"–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä"),
                React.createElement("select",{value:form.agg,onChange:change("agg")},
                  React.createElement("option",{value:"TopGO"},"TopGO"),
                  React.createElement("option",{value:"–Ø–Ω–¥–µ–∫—Å –î–æ—Å—Ç–∞–≤–∫–∞"},"–Ø–Ω–¥–µ–∫—Å –î–æ—Å—Ç–∞–≤–∫–∞"),
                  React.createElement("option",{value:"–ö—É–ø–µ—Ä"},"–ö—É–ø–µ—Ä"),
                  React.createElement("option",{value:"–î—Ä—É–≥–æ–µ"},"–î—Ä—É–≥–æ–µ"),
                )
              )
            ),
            React.createElement("div",{className:"grid cols-2"},
              React.createElement(Btn,{variant:"primary", onClick:submit},"–û—Ç–ø—Ä–∞–≤–∏—Ç—å"),
              React.createElement(Btn,{onClick:()=>nav(-1)},"‚¨ÖÔ∏è –ù–∞–∑–∞–¥")
            ),
            React.createElement("div",{className:"hint"},"–ó–∞—è–≤–∫–∞ —É—Ö–æ–¥–∏—Ç –º–µ–Ω–µ–¥–∂–µ—Ä—É –ø–∞—Ä–∫–∞. –ú—ã –æ—Ç–≤–µ—á–∞–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è.")
          )
        )
      )
    )
  };

  const App = ()=>{
    useEffect(()=>{ if(tg){ tg.expand(); } },[]);
    return (
      React.createElement("div",{className:"wrap"},
        React.createElement(Header,null),
        React.createElement(Routes,null,
          React.createElement(Route,{path:"/", element:React.createElement(Welcome)}),
          React.createElement(Route,{path:"/about", element:React.createElement(About)}),
          React.createElement(Route,{path:"/login", element:React.createElement(Login)}),
          React.createElement(Route,{path:"/register", element:React.createElement(Register)}),
          React.createElement(Route,{path:"/profile", element:React.createElement(Profile)}),
          React.createElement(Route,{path:"/support", element:React.createElement(Support)}),
          React.createElement(Route,{path:"/stats", element:React.createElement(Stats)}),
        ),
        React.createElement("div",{className:"footer"},"¬© –õ–ï–ì–ò–û–ù")
      )
    )
  };

  ReactDOM.createRoot(document.getElementById('root')).render(
    React.createElement(HashRouter,null, React.createElement(App))
  );
  </script>
</body>
</html>

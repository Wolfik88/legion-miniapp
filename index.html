<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>–õ–ï–ì–ò–û–ù ‚Äî –ø–∞—Ä–∫ –∫—É—Ä—å–µ—Ä–æ–≤</title>
  <style>
    :root{--bg:#0f0f0f;--panel:#151515;--text:#e9e9e9;--muted:#bcbcbc;--accent:#d74848;--accent-2:#ff3b3b;--radius:16px;--shadow:0 10px 30px rgba(0,0,0,.35)}
    *{box-sizing:border-box} html,body,#root{height:100%}
    body{margin:0;background:
      radial-gradient(1200px 900px at 100% -10%, rgba(215,72,72,.12), transparent 35%),
      radial-gradient(1200px 900px at -10% 110%, rgba(255,59,59,.08), transparent 35%),
      var(--bg);color:var(--text);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif}
    .wrap{max-width:960px;margin:0 auto;padding:18px 18px 40px}
    header{display:flex;align-items:center;gap:12px;margin:8px 0 20px}
    .logo{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent-2));box-shadow:0 0 18px rgba(215,72,72,.35), inset 0 0 14px rgba(0,0,0,.3)}
    .brand{font-weight:700;letter-spacing:.4px}.hint{font-size:13px;color:var(--muted)}
    .card{background:linear-gradient(180deg, rgba(255,255,255,.02), transparent), var(--panel);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px}
    h1{margin:0 0 6px;font-size:22px;letter-spacing:.3px} h2{margin:0 0 10px;font-size:18px;color:#fff} p{margin:8px 0;color:var(--muted)}
    .grid{display:grid;gap:12px}.grid.cols-2{grid-template-columns:1fr 1fr}.grid.cols-3{grid-template-columns:1fr 1fr 1fr}
    @media(max-width:720px){.grid.cols-2,.grid.cols-3{grid-template-columns:1fr}}
    .btn{appearance:none;border:1px solid rgba(255,255,255,.08);background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.12));color:#fff;padding:12px 14px;border-radius:12px;cursor:pointer;transition:.2s;font-weight:600;letter-spacing:.2px;text-align:center}
    .btn:hover{transform:translateY(-1px);border-color:rgba(255,255,255,.16)} .btn.primary{background:linear-gradient(135deg,var(--accent),var(--accent-2));border:none;box-shadow:0 8px 22px rgba(215,72,72,.35)} .btn.ghost{background:transparent} .btn.full{width:100%}
    .pill{display:inline-flex;gap:6px;align-items:center;background:rgba(255,255,255,.06);padding:6px 10px;border-radius:999px;font-size:13px;color:#fff;border:1px solid rgba(255,255,255,.08)}
    .field{display:grid;gap:6px}.input,select{width:100%;padding:12px 14px;color:#fff;background:#131313;border:1px solid rgba(255,255,255,.12);border-radius:12px;outline:none;transition:.2s}
    .input:focus,select:focus{border-color:var(--accent)} .footer{margin-top:12px;font-size:13px;color:var(--muted);text-align:center}
    .divider{height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.08),transparent);margin:12px 0} .emoji{filter:drop-shadow(0 2px 6px rgba(255,255,255,.2))}
    #diag{position:fixed;left:0;right:0;top:0;background:#1b1b1b;color:#fff;padding:8px 12px;font:13px/1.4 system-ui,Segoe UI,Roboto,Arial;z-index:9999;border-bottom:1px solid rgba(255,255,255,.08)}
    #diag.ok{display:none}
  </style>
</head>
<body>
  <div id="diag">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</div>
  <div id="root"></div>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <script>
  // ===== –∑–∞–≥—Ä—É–∑–∫–∞ React/ReactDOM —Å —Ñ–æ–ª–±—ç–∫–∞–º–∏ (–±–µ–∑ react-router) =====
  (function(){
    var diag = document.getElementById('diag');
    function log(t){ diag.textContent = t; }
    function ok(){ diag.className='ok'; }

    function load(urls, cb){
      var i=0;
      (function next(){
        if(i>=urls.length){ log('–û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å '+urls.join(' –∏–ª–∏ ')); return; }
        var s=document.createElement('script');
        s.src=urls[i]+(urls[i].indexOf('?')>-1?'&':'?')+'v=11';
        s.async=false;
        s.onload=function(){ cb(); };
        s.onerror=function(){ i++; next(); };
        document.head.appendChild(s);
      })();
    }

    load([
      'https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js',
      'https://unpkg.com/react@18.2.0/umd/react.production.min.js'
    ], function(){
      log('React –∑–∞–≥—Ä—É–∂–µ–Ω‚Ä¶');
      load([
        'https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.production.min.js',
        'https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js'
      ], function(){
        log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è‚Ä¶');
        startApp(ok, log);
      });
    });
  })();
  </script>

  <script>
  // ===== –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞ (hash-–Ω–∞–≤–∏–≥–∞—Ü–∏—è) =====
  function startApp(onOk, log){
    var tg = (window.Telegram && window.Telegram.WebApp) ? window.Telegram.WebApp : null;
    try{ if(tg){ tg.ready(); tg.expand(); tg.setHeaderColor("#0f0f0f"); tg.setBackgroundColor("#0f0f0f"); } }catch(e){}

    function setHash(path){ location.hash = '#'+path; }
    function getHash(){ return (location.hash||'#/').slice(1) || '/'; }

    function Card(p){ return React.createElement('div',{className:'card '+(p.className||'')}, p.children); }
    function Btn(p){ var tag=p.href?'a':'button'; return React.createElement(tag,{className:'btn '+(p.variant||'')+' '+(p.full?'full':''), onClick:p.onClick, href:p.href}, p.children); }
    function Header(){ return React.createElement('header',null,
      React.createElement('div',{className:'logo'}),
      React.createElement('div',null,
        React.createElement('div',{className:'brand'},'–õ–ï–ì–ò–û–ù'),
        React.createElement('div',{className:'hint'},'–ü–∞—Ä–∫ –∫—É—Ä—å–µ—Ä–æ–≤')
      )
    );}

    function Welcome(props){
      return React.createElement('div',{className:'grid',style:{gap:16}},
        React.createElement(Card,null,
          React.createElement('h1',null,'–†–∞–±–æ—Ç–∞–π —Å —Ç–µ–º–∏, –∫—Ç–æ —Ü–µ–Ω–∏—Ç —Ç–≤–æ—ë –≤—Ä–µ–º—è'),
          React.createElement('p',null,'–ü–∞—Ä–∫ –õ–ï–ì–ò–û–ù ‚Äî –Ω–∞–¥—ë–∂–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —É–¥–æ–±–Ω—ã–µ —Å–º–µ–Ω—ã.'),
          React.createElement('div',{className:'grid cols-2'},
            React.createElement(Btn,{variant:'primary', onClick:function(){ setHash('/login'); }},'üîë –í–æ–π—Ç–∏'),
            React.createElement(Btn,{onClick:function(){ setHash('/register'); }},'üìù –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è')
          ),
          React.createElement('div',{style:{height:8}}),
          React.createElement(Btn,{variant:'ghost', full:true, onClick:function(){ setHash('/about'); }},'‚ÑπÔ∏è –ü–æ–¥—Ä–æ–±–Ω–µ–µ')
        ),
        React.createElement(Card,null,
          React.createElement('div',{className:'pill'},'‚ö° –ë—ã—Å—Ç—Ä—ã–µ –≤—ã–ø–ª–∞—Ç—ã'),
          React.createElement('div',{className:'pill',style:{marginLeft:8}},'üõ° –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 8:00‚Äì00:00')
        )
      );
    }

    function About(){
      return React.createElement('div',{className:'grid',style:{gap:16}},
        React.createElement(Card,null,
          React.createElement('h1',null,'–û –ø–∞—Ä–∫–µ'),
          React.createElement('p',null,'–ü–æ–¥–∫–ª—é—á–∞–µ–º –∫—É—Ä—å–µ—Ä–æ–≤ –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏. –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è, —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞.'),
          React.createElement('div',{className:'divider'}),
          React.createElement('h2',null,'–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞'),
          React.createElement('div',{className:'grid cols-3'},
            React.createElement('div',null,React.createElement('div',{className:'emoji'},'üí≥'),React.createElement('p',null,'–í—ã–ø–ª–∞—Ç—ã –≤–æ–≤—Ä–µ–º—è')),
            React.createElement('div',null,React.createElement('div',{className:'emoji'},'üß≠'),React.createElement('p',null,'–£–¥–æ–±–Ω—ã–µ —Å–º–µ–Ω—ã')),
            React.createElement('div',null,React.createElement('div',{className:'emoji'},'üõü'),React.createElement('p',null,'–ñ–∏–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞'))
          ),
          React.createElement('div',{style:{height:8}}),
          React.createElement(Btn,{variant:'primary', onClick:function(){ setHash('/register'); }},'–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è')
        )
      );
    }

    function Login(){
      var user = (tg && tg.initDataUnsafe && tg.initDataUnsafe.user) ? tg.initDataUnsafe.user : null;
      var who = user ? (user.username?('@'+user.username):((user.first_name||'')+' '+(user.last_name||''))) : null;
      return React.createElement('div',{className:'grid',style:{gap:16}},
        React.createElement(Card,null,
          React.createElement('h1',null,'–í—Ö–æ–¥'),
          who?React.createElement('p',null,'–í—ã –≤–æ—à–ª–∏ –∫–∞–∫ ',React.createElement('b',null,who))
             :React.createElement('p',null,'–û—Ç–∫—Ä–æ–π—Ç–µ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–∑ —á–∞—Ç–∞ —Å –±–æ—Ç–æ–º.'),
          React.createElement('div',{className:'grid cols-2'},
            React.createElement(Btn,{variant:'primary', onClick:function(){ setHash('/profile'); }},'–ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ—Ñ–∏–ª—å'),
            React.createElement(Btn,{onClick:function(){ setHash('/'); }},'–ù–∞ –≥–ª–∞–≤–Ω—É—é')
          )
        )
      );
    }

    function Profile(){
      var user = (tg && tg.initDataUnsafe && tg.initDataUnsafe.user) ? tg.initDataUnsafe.user : null;
      var fio = user ? ((user.first_name||'')+' '+(user.last_name||'')) : '‚Äî';
      return React.createElement('div',{className:'grid',style:{gap:16}},
        React.createElement(Card,null,
          React.createElement('h1',null,'–ü—Ä–æ—Ñ–∏–ª—å'),
          React.createElement('p',null,'–§–ò–û: ',React.createElement('b',null,fio)),
          React.createElement('p',null,'–°—Ç–∞—Ç—É—Å: ',React.createElement('b',null,'–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ')),
          React.createElement('div',{className:'grid cols-2'},
            React.createElement(Btn,{onClick:function(){ setHash('/stats'); }},'üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞'),
            React.createElement(Btn,{onClick:function(){ setHash('/support'); }},'üõü –ü–æ–¥–¥–µ—Ä–∂–∫–∞')
          ),
          React.createElement('div',{style:{height:8}}),
          React.createElement(Btn,{variant:'ghost', onClick:function(){ setHash('/'); }},'‚¨ÖÔ∏è –ù–∞ –≥–ª–∞–≤–Ω—É—é')
        )
      );
    }

    function Support(){
      return React.createElement('div',{className:'grid',style:{gap:16}},
        React.createElement(Card,null,
          React.createElement('h1',null,'–ü–æ–¥–¥–µ—Ä–∂–∫–∞'),
          React.createElement('p',null,'–†–∞–∑–¥–µ–ª —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω.'),
          React.createElement(Btn,{onClick:function(){ history.back(); }},'‚¨ÖÔ∏è –ù–∞–∑–∞–¥')
        )
      );
    }

    function Stats(){
      return React.createElement('div',{className:'grid',style:{gap:16}},
        React.createElement(Card,null,
          React.createElement('h1',null,'–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞'),
          React.createElement('p',null,'–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º —Å –±–æ—Ç–æ–º.'),
          React.createElement(Btn,{onClick:function(){ history.back(); }},'‚¨ÖÔ∏è –ù–∞–∑–∞–¥')
        )
      );
    }

    function Register(){
      var _st = React.useState({name:"",city:"",phone:"",transport:"–ü–µ—à–∏–π",agg:"TopGO"});
      var form=_st[0], setForm=_st[1];
      function change(k){ return function(e){ var o={}; o[k]=e.target.value; setForm(Object.assign({},form,o)); }; }
      function submit(){
        var payload={action:'registration',data:form};
        try{ if(tg && tg.sendData){ tg.sendData(JSON.stringify(payload)); tg.HapticFeedback && tg.HapticFeedback.notificationOccurred && tg.HapticFeedback.notificationOccurred('success'); } }catch(e){}
        alert('–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è!');
        setHash('/');
      }
      return React.createElement('div',{className:'grid',style:{gap:16}},
        React.createElement(Card,null,
          React.createElement('h1',null,'–ó–∞—è–≤–∫–∞ –Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ'),
          React.createElement('div',{className:'grid',style:{gap:12}},
            React.createElement('div',{className:'field'},React.createElement('label',null,'–§–ò–û'),React.createElement('input',{className:'input',placeholder:'–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω',value:form.name,onChange:change('name')})),
            React.createElement('div',{className:'field'},React.createElement('label',null,'–ì–æ—Ä–æ–¥'),React.createElement('input',{className:'input',placeholder:'–ú–æ—Å–∫–≤–∞',value:form.city,onChange:change('city')})),
            React.createElement('div',{className:'field'},React.createElement('label',null,'–¢–µ–ª–µ—Ñ–æ–Ω'),React.createElement('input',{className:'input',inputMode:'tel',placeholder:'+7 9__',value:form.phone,onChange:change('phone')})),
            React.createElement('div',{className:'grid cols-2'},
              React.createElement('div',{className:'field'},React.createElement('label',null,'–¢–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞'),
                React.createElement('select',{value:form.transport,onChange:change('transport')},
                  React.createElement('option',{value:'–ü–µ—à–∏–π'},'–ü–µ—à–∏–π'),
                  React.createElement('option',{value:'–í–µ–ª–æ'},'–í–µ–ª–æ'),
                  React.createElement('option',{value:'–≠–ª–µ–∫—Ç—Ä–æ'},'–≠–ª–µ–∫—Ç—Ä–æ'),
                  React.createElement('option',{value:'–ê–≤—Ç–æ'},'–ê–≤—Ç–æ')
                )
              ),
              React.createElement('div',{className:'field'},React.createElement('label',null,'–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä'),
                React.createElement('select',{value:form.agg,onChange:change('agg')},
                  React.createElement('option',{value:'TopGO'},'TopGO'),
                  React.createElement('option',{value:'–Ø–Ω–¥–µ–∫—Å –î–æ—Å—Ç–∞–≤–∫–∞'},'–Ø–Ω–¥–µ–∫—Å –î–æ—Å—Ç–∞–≤–∫–∞'),
                  React.createElement('option',{value:'–ö—É–ø–µ—Ä'},'–ö—É–ø–µ—Ä'),
                  React.createElement('option',{value:'–î—Ä—É–≥–æ–µ'},'–î—Ä—É–≥–æ–µ')
                )
              )
            ),
            React.createElement('div',{className:'grid cols-2'},
              React.createElement(Btn,{variant:'primary',onClick:submit},'–û—Ç–ø—Ä–∞–≤–∏—Ç—å'),
              React.createElement(Btn,{onClick:function(){ history.back(); }},'‚¨ÖÔ∏è –ù–∞–∑–∞–¥')
            ),
            React.createElement('div',{className:'hint'},'–ó–∞—è–≤–∫–∞ —É—Ö–æ–¥–∏—Ç –º–µ–Ω–µ–¥–∂–µ—Ä—É –ø–∞—Ä–∫–∞. –ú—ã –æ—Ç–≤–µ—á–∞–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è.')
          )
        )
      );
    }

    function App(){
      var _r = React.useState(getHash()); var route=_r[0], setRoute=_r[1];
      React.useEffect(function(){
        function onHash(){ setRoute(getHash()); }
        window.addEventListener('hashchange', onHash);
        if(!location.hash) setHash('/'); // –¥–µ—Ñ–æ–ª—Ç
        return function(){ window.removeEventListener('hashchange', onHash); };
      },[]);
      React.useEffect(function(){ try{ tg && tg.expand && tg.expand(); }catch(e){} },[]);

      function page(){
        switch(route){
          case '/': return React.createElement(Welcome,null);
          case '/about': return React.createElement(About,null);
          case '/login': return React.createElement(Login,null);
          case '/register': return React.createElement(Register,null);
          case '/profile': return React.createElement(Profile,null);
          case '/support': return React.createElement(Support,null);
          case '/stats': return React.createElement(Stats,null);
          default: return React.createElement(Welcome,null);
        }
      }

      return React.createElement('div',{className:'wrap'},
        React.createElement(Header,null),
        page(),
        React.createElement('div',{className:'footer'},'¬© –õ–ï–ì–ò–û–ù')
      );
    }

    try{
      ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(App,null));
      onOk();
    }catch(e){ log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É–ø–∞–ª–∞: '+(e&&e.message?e.message:e)); }

    window.onerror=function(msg,src,line){ var d=document.getElementById('diag'); d.className=''; d.textContent='JS –æ—à–∏–±–∫–∞: '+msg+' @'+(src||'')+':'+(line||0); };
  }
  </script>
</body>
</html>
